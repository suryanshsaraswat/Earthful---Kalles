{{ 'section-multicolumn.css' | asset_url | stylesheet_tag }}
<link rel="stylesheet" href="{{ 'component-slider.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'component-slider.css' | asset_url | stylesheet_tag }}</noscript>
{% assign productTags = product.tags | join:',' %}

<div class="multicolumn_new_section multicolumn background-{{ section.settings.background_style }}{% if section.settings.title == blank %} no-heading{% endif %}">
  <div class="overlay-bg"></div>
  <div class="page-width">
    <div class="title-wrapper-with-link title-wrapper--self-padded-mobile{% if section.settings.title == blank %} title-wrapper-with-link--no-heading{% endif %}">
      <h2 class="title">
        {{ section.settings.title | escape }}
      </h2>
      {%- if section.settings.button_label != blank and section.settings.swipe_on_mobile -%}
      <a href="{{ section.settings.button_link }}" class="link underlined-link large-up-hide">{{ section.settings.button_label | escape }}</a>
      {%- endif -%}
    </div>
   
    <slider-component class="slider-mobile-gutter">
      <ul class="multicolumn-list grid grid--1-col{% if section.blocks.size > 3 and section.settings.image_width != 'full' %} grid--2-col-tablet grid--3-col-desktop{% elsif section.blocks.size > 3 and section.settings.image_width == 'full' %} grid--2-col-tablet{% else %} grid--2-col-tablet{% endif %}{% if section.settings.swipe_on_mobile and section.blocks.size > 1 %} slider slider--mobile grid--peek{% endif %}"
          id="{{ section.settings.section_id }}"
          role="list" style="
    max-width: 980px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
"
          >
       
        {% assign i = 0 %}
        {% assign forloopIndex = 0 %}
{% for block in section.blocks  %}
{% assign i = i | plus: 1 %} {%- case block.type -%}
  {% when 'box' %}
        {% if i <= 4 %}
          <li {% comment %}style="background-image:url({{ block.settings.bg_image | img_url: 'master' }}) !important;background-size: 94%;min-height:290px;background-repeat: no-repeat;background-position: 10px 0px;margin-bottom:30px;display:flex;"{% endcomment %} class="link disable-toggle multicolumn-list__item grid__item{% if section.settings.swipe_on_mobile %} slider__slide{% endif %}{% if section.settings.column_alignment == 'center' %} center{% endif %}">

          <div style="background-image:url({{ block.settings.bg_image | img_url: 'master' }}) !important;" class="capbg multicolumn-card link{{ i }}">
            <div class="multicolumn-card__info" style="text-align:center;">
              {%- if block.settings.ingrediant_title != blank -%}
              <h3 style="font-size:1rem;color:#fff;text-transform:uppercase;">{{ block.settings.ingrediant_title }}</h3>
              {%- endif -%}
              {%- if block.settings.ingrediant_content != blank -%}
              <h2 style="font-size:4rem;color:#fff;font-family: 'Literata';padding: 0 30px;">|<br> from<br>{{ block.settings.ingrediant_content }}</h2>
              {%- endif -%}
            </div>
          </div>

          <div class="popup-inner popup{{ i }}" tabindex="-1">
            <div class="close-btn close{{ i }}" >×</div>
             <h1 class="pop-mainhead">{{ block.settings.ingrediant_title }}</h1>
  
  
  
  {{  block.settings.ingrediant_html}}
          </div>
          <script type="text/javascript">
            $(".link{{ i }}").click(function(e){
              e.preventDefault();
            $(".popup{{ i }}").fadeIn(300,function(){$(this).focus();});
              $(".overlay-bg").addClass("overlayclass"); 
            $("body").addClass("disable-toggle");
            });

            $('.close{{ i }}').click(function() {
              $(".popup{{ i }}").fadeOut(300);
              });
            $(".popup{{ i }}").on('blur',function(){
              $(this).fadeOut(300);
            $(".overlay-bg").removeClass("overlayclass"); 
            $("body").removeClass("disable-toggle");
            });
          </script>
          <style>
            .pop{{ i }} {display:none;}
            .link{
            }
            .popup{{ i }}{    
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 50%;
              text-align: center;
              background-color: #e8eae6;
              box-sizing: border-box;
              padding: 10px;
              z-index: 100;
              display:none;
            }
          </style>
        </li>
          {% endif %}
{% endcase %}
  
{% endfor %}
    
      </ul>

     
      
    </slider-component> 
    <div class="center view_more">
     {% if section.settings.viewmore %} <a class="pushme">View More</a>{% endif %}

    </div>
    <div class="hide show_onClick view_more_content">
      <slider-component class="slider-mobile-gutter">
        <p class="text_formate_center">{{ section.settings.viewmoretext }}</p>
        <ul class="multicolumn-list grid grid--1-col{% if section.blocks.size > 3 and section.settings.image_width != 'full' %} grid--2-col-tablet grid--3-col-desktop{% elsif section.blocks.size > 3 and section.settings.image_width == 'full' %} grid--2-col-tablet{% else %} grid--2-col-tablet{% endif %}{% if section.settings.swipe_on_mobile and section.blocks.size > 1 %} slider slider--mobile grid--peek{% endif %}"
            id="{{ section.settings.section_id }}"
            role="list"
          style="
    max-width: 980px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
"
            >
          
      {% assign i = 5 %}      
{% for block in section.blocks  %}
{% assign i = i | plus: 1 %}{%- case block.type -%}{% when 'other' %}
  {% if i >= 5 %}
    <li {% comment %} style="background-image:url({{ block.settings.bg_image | img_url: 'master' }}) !important;background-size: 94%;min-height:290px;background-repeat: no-repeat;background-position: 10px 0px;margin-bottom:30px;display:flex;"{% endcomment %} class="link disable-toggle multicolumn-list__item grid__item{% if section.settings.swipe_on_mobile %} slider__slide{% endif %}{% if section.settings.column_alignment == 'center' %} center{% endif %}">

          <div style="background-image:url({{ block.settings.bg_image | img_url: 'master' }}) !important;" class="capbg multicolumn-card link{{ i }} " style="position:relative;">
            <div class="multicolumn-card__info" style="text-align:center;">
              {%- if block.settings.ingrediant_title != blank -%}
              <h3 style="font-size:1rem;color:#fff;text-transform:uppercase;">{{ block.settings.ingrediant_title }}</h3>
              {%- endif -%}
              {%- if block.settings.ingrediant_content != blank -%}
              <h2 style="font-size:4rem;color:#fff;font-family: 'Literata';padding: 0 30px;">|<br> from<br>{{ block.settings.ingrediant_content }}</h2>
              {%- endif -%}
            </div>
          </div>

          <div class="popup-inner popup{{ i }}" tabindex="-1">
            <div class="close-btn close{{ i }}" >×</div>
             <h1 class="pop-mainhead">{{ block.settings.ingrediant_title }}</h1>
  
  
  
  {{  block.settings.ingrediant_html}}
          </div>
          <script type="text/javascript">
            $(".link{{ i }}").click(function(e){
              e.preventDefault();
            $(".popup{{ i }}").fadeIn(300,function(){$(this).focus();});
              $(".overlay-bg").addClass("overlayclass"); 
            $("body").addClass("disable-toggle");
            });

            $('.close{{ i }}').click(function() {
              $(".popup{{ i }}").fadeOut(300);
              });
            $(".popup{{ i }}").on('blur',function(){
              $(this).fadeOut(300);
            $(".overlay-bg").removeClass("overlayclass"); 
            $("body").removeClass("disable-toggle");
            });
          </script>
          <style>
            .pop{{ i }} {display:none;}
            .link{
            }
            .popup{{ i }}{    
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 50%;
              text-align: center;
              background-color: #e8eae6;
              box-sizing: border-box;
              padding: 10px;
              z-index: 100;
              display:none;
            }
          </style>
        </li>
    {% endif %}
         {% endcase %}
        {% endfor %} 
         
        </ul>

       
       
      </slider-component>
    </div>

   
    
    
    
  
  </div>
</div>
<!-- div containing the popup -->
<script>
  $(document).ready(function(){
    $('.pushme').on('click',function(){
      $(this).parent('div').next('.show_onClick').slideToggle();
      $(this).toggleClass('lessdata');
    });
    var count_sec = $('.view_more_content .multicolumn-list li').length;
    if(count_sec >= 1){
      $('.view_more').show();
    }else{
      $('.view_more').hide();
    }
  });
  
</script>

<style type="text/css">
  .show_onClick{display:none}
  body.disable-toggle {overflow:hidden !important;}
  .close-btn {
    position: absolute;
    right: 10px;
    top: 5px;
    background-color: black;
    color: white;
    border-radius: 50%;
    padding: 4px;
    width: 30px;
    height: 30px;
    line-height: 22px;
  }p.text_formate_center {
    text-align: center;
}
  .multicolumn_with_image .multicolumn .slick_custome_wrapper li.multicolumn-list__item{
    margin-left:10px;
    margin-right:10px;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper{
   padding:0 30px;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow{
    display:block;
    border: 1px solid #000;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-disabled.slick-arrow{
    display:none;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-disabled.slick-arrow {
    display: none !important;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev{
    left:-25px;
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next{
    right:-25px;
  }
  .multicolumn_new_section .link {
    color: transparent !IMPORTANT;
}
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next:before{
    content:'';
    display: block;
    width: 24px;
    height: 24px;
    background-size: cover !important;
    z-index: 9;
    background-repeat: no-repeat;
    margin: 0 auto;
    background:url('{{ 'right-arrow.png' | asset_url }}');
  }
  .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev:before{
    content: '';
    display: block;
    width: 24px;
    height: 24px;
    transform: rotate(180deg);
    background-size: cover !important;
    z-index: 9;
    background-repeat: no-repeat;
    margin: 0 auto;
    padding: 5px !important;
    background:url('{{ 'right-arrow.png' | asset_url }}');
  }
  .capbg{
    background-size: 82%;
    min-height:290px;
    background-repeat: no-repeat;
    background-position: center;
    margin-bottom:30px;
    display:flex;
    justify-content: center;
    align-items:center;
  }
  @media(max-width:820px){
/*     .multicolumn_with_image .multicolumn .multicolumn-card {
      top: 50% !important;
      height: auto !important;
    } */
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev:before {
      width: 15px;
      height: 15px;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev {
      left: 8px;
      width: 30px !important;
      height: 30px !important;
      bottom: 0px;
      top: 125px;
      right: auto;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next {
      right: 8px;
      width: 30px !important;
      height: 30px !important;
      bottom: 0px;
      top: 125px;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next:before{
      width: 15px;
      height: 15px;
    }
    .multicolumn_with_image a.product-popup-link {
      display: flex;
      min-height: 215px;
      padding-top: 0;
      align-items: center;
    }
    .multicolumn_with_image li.slick-slide{
      margin-bottom: 0 !important;
    }
    .spaced-section .banner__text {
      padding: 0 30px;
    }
    .multicolumn_with_image{
      margin: 0 !important;
    }
    .multicolumn_new_section.multicolumn{
      margin: 0 0 10px 0 !important;
    }
    .ingredients-1 li.multicolumn-list__item {
      min-height: 265px;
    }
    .multicolumn-list{
      margin: 0;
    }
    .multicolumn_with_image .title-wrapper-with-link{
      margin: 0;
    }
    .multicolumn .multicolumn-card h3 {
      font-size: 16px !important;
    }
    .multicolumn .multicolumn-card h2 {
      font-size: 16px !important;
    }
  }
  
  @media(max-width:520px){
    .multicolumn-card__info {
      padding: 1.7rem 0.5rem !important;
    }
          .custom_code {
    text-align:left !important;
}
    .capsules .multicolumn .multicolumn-list li {
    width: 36%;
    min-height: 220px !important;
    margin-bottom: 0 !important;
}
    .capbg{
    background-size: 77%;
    min-height: 220px;
    background-repeat: no-repeat;
    background-position: center;
    margin-bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
    .multicolumn .multicolumn-card h3 {
      font-size: 12px !important;
    }
    .multicolumn .multicolumn-card h2 {
      font-size: 12px !important;
    }
/*     .multicolumn_with_image .multicolumn .multicolumn-card {
      top: 50% !important;
      height: auto !important;
    } */
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev:before {
      width: 15px;
      height: 15px;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-prev {
      left: 8px;
      width: 30px !important;
      height: 30px !important;
      bottom: 0px;
      top: 110px;
      right: auto;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next {
      right: 8px;
      width: 30px !important;
      height: 30px !important;
      bottom: 0px;
      top: 110px;
    }
    .multicolumn_with_image .multicolumn .slick_custome_wrapper .slick-arrow.slick-next:before{
      width: 15px;
      height: 15px;
    }
    .multicolumn_with_image a.product-popup-link {
      display: flex;
      min-height: 215px !important;
      padding-top: 0;
      align-items: center;
    }
    .multicolumn_with_image li.slick-slide{
      margin-bottom: 0 !important;
    }
    .spaced-section .banner__text {
      padding: 0 30px;
    }
    .multicolumn_with_image{
      margin: 0 !important;
    }
    .multicolumn_new_section.multicolumn{
      margin-bottom: 0;
    }
    .ingredients-1 li.multicolumn-list__item {
      min-height: auto;
    }
  }

  #shopify-section-{{section.id}} {padding-top:{{ section.settings.padding_top }}px;padding-bottom:{{ section.settings.padding_bottom }}px;}}
 
</style>
{% schema %}
{
"name": "Product Multi Column",
"class": "spaced-section spaced-section--full-width capsules multicolumn_with_product",
"tag": "section",
"settings": [
{
"type": "text",
"id": "title",
"default": "Multicolumn",
"label": "t:sections.multicolumn.settings.title.label"
},
{
"type": "text",
"id": "section_id",
"default": "multicolumnid",
"label": "Section ID"
},{
"type": "checkbox",
"id": "viewmore",
"label": "Show View More"
},{
"type": "text",
"id": "viewmoretext",
"label": "View More heading"
},{
"type": "select",
"id": "image_width",
"options": [
{
"value": "third",
"label": "t:sections.multicolumn.settings.image_width.options__1.label"
},
{
"value": "half",
"label": "t:sections.multicolumn.settings.image_width.options__2.label"
},
{
"value": "full",
"label": "t:sections.multicolumn.settings.image_width.options__3.label"
}
],
"default": "full",
"label": "t:sections.multicolumn.settings.image_width.label"
},
{
"type": "select",
"id": "image_ratio",
"options": [
{
"value": "adapt",
"label": "t:sections.multicolumn.settings.image_ratio.options__1.label"
},
{
"value": "portrait",
"label": "t:sections.multicolumn.settings.image_ratio.options__2.label"
},
{
"value": "square",
"label": "t:sections.multicolumn.settings.image_ratio.options__3.label"
},
{
"value": "circle",
"label": "t:sections.multicolumn.settings.image_ratio.options__4.label"
}
],
"default": "adapt",
"label": "t:sections.multicolumn.settings.image_ratio.label"
},
{
"type": "select",
"id": "column_alignment",
"options": [
{
"value": "left",
"label": "t:sections.multicolumn.settings.column_alignment.options__1.label"
},
{
"value": "center",
"label": "t:sections.multicolumn.settings.column_alignment.options__2.label"
}
],
"default": "left",
"label": "t:sections.multicolumn.settings.column_alignment.label"
},
{
"type": "select",
"id": "background_style",
"options": [
{
"value": "none",
"label": "t:sections.multicolumn.settings.background_style.options__1.label"
},
{
"value": "primary",
"label": "t:sections.multicolumn.settings.background_style.options__2.label"
},
{
"value": "secondary",
"label": "t:sections.multicolumn.settings.background_style.options__3.label"
}
],
"default": "primary",
"label": "t:sections.multicolumn.settings.background_style.label"
},
{
"type": "text",
"id": "button_label",
"default": "Button label",
"label": "t:sections.multicolumn.settings.button_label.label"
},
{
"type": "url",
"id": "button_link",
"label": "t:sections.multicolumn.settings.button_link.label"
},
{
"type": "checkbox",
"id": "swipe_on_mobile",
"default": false,
"label": "t:sections.multicolumn.settings.swipe_on_mobile.label"
}, {
  "type": "range",
  "id": "padding_top",
  "min": 1,
  "max": 100,
      "unit":"px",
  "step": 1,
  "label": "Padding Top",
  "default": 20
}, {
  "type": "range",
  "id": "padding_bottom",
  "min": 1,
  "max": 100,
      "unit":"px",
  "step": 1,
  "label": "Padding Bottom",
  "default": 20
}
],
  "blocks": [
    {
      "type": "box",
      "name": "Ingrediants Box",
      "settings": [
		{
          "type": "image_picker",
          "id": "bg_image",   
          "label": "Background Image"
        },{
          "type": "text",
          "id": "ingrediant_title",
          "label":"title",
          "default": "Vitamin"
        },
        {
          "type": "text",
          "id": "ingrediant_content",
          "label":"Content"
        },
        {
          "type": "html",
          "id": "ingrediant_html",
          "label":"Popup Content"
        }
       
      ]
    },{
      "type": "other",
      "name": "Others Ingrediants",
      "settings": [
		{
          "type": "image_picker",
          "id": "bg_image",   
          "label": "Background Image"
        },{
          "type": "text",
          "id": "ingrediant_title",
          "label":"title",
          "default": "Vitamin"
        },
        {
          "type": "text",
          "id": "ingrediant_content",
          "label":"Content"
        },
        {
          "type": "html",
          "id": "ingrediant_html",
          "label":"Popup Content"
        }
       
      ]
    }
  ],
"presets": [
{
"name": "Product Multi Column "
}
]
}
{% endschema %}
